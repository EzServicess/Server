<!DOCTYPE html>
<html>
<head>
    <title>Dexter Services - Register</title>
</head>
<body>
    <h1>Register</h1>
    <input type="text" id="username" placeholder="Username"><br>
    <input type="text" id="license" placeholder="License Key"><br>
    <button onclick="registerUser()">Register</button>

    <script>
        async function registerUser() {
            const username = document.getElementById("username").value.trim();
            const license = document.getElementById("license").value.trim();

            if (!username || !license) {
                alert("Please fill in both fields.");
                return;
            }

            try {
                const res = await fetch("/api/register", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ username, license })
                });

                const data = await res.json();
                alert(data.message || "Unknown response from server");
            } catch (err) {
                alert("Error: " + err.message);
            }
        }
    </script>
</body>
</html>
